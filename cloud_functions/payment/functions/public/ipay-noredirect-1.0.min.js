var ozow=function(e,t,a){var n=e.addEventListener?"addEventListener":"attachEvent",r="/payment/iframeredirect?redirecturl=",o="Payment could not be completed, please contact the site administrator";function l(e){return e.CancelUrl&&e.CancelUrl.length>0&&(e.CancelUrl=r+encodeURI(e.CancelUrl)),e.ErrorUrl&&e.ErrorUrl.length>0&&(e.ErrorUrl=r+encodeURI(e.ErrorUrl)),e.SuccessUrl&&e.SuccessUrl.length>0&&(e.SuccessUrl=r+encodeURI(e.SuccessUrl)),e}return(0,e[n])("attachEvent"==n?"onmessage":"message",function(a){if(a.data&&a.data.event&&("ozowMessage"==a.data.event||"ozowResize"==a.data.event))if("ozowMessage"==a.data.event){var n=Object.keys(a.data.postData).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(a.data.postData[e])}).join("&");e.location=a.data.url+(-1==a.data.url.indexOf("?")?"?":"&")+(n||{})}else"ozowResize"==a.data.event&&(t.getElementById("paymentFrame").style.height=a.data.height+"px")},!1),function(){var e=this;e.createPaymentFrame=function(e,a,n){if(!e||""==e||0==e.length)return console.log("The createPaymentFrame method parameter elementSelector cannot be empty or null."),void alert(o);if(!a||""==a||0==a.length)return console.log("The createPaymentFrame method parameter paymentUrl cannot be empty or null."),void alert(o);if(t.getElementById("paymentFrame")){var r=t.getElementById("paymentFrame");r.parentNode.removeChild(r)}if("object"==typeof n){l(n),a=a+"?viewName=JsInjection&"+Object.keys(n).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(n[e])}).join("&");var i=t.createElement("iframe");i.setAttribute("id","paymentFrame"),i.setAttribute("src",a),i.setAttribute("frameborder","0"),i.setAttribute("scrolling","no"),i.setAttribute("height","100%"),i.setAttribute("width","100%"),i.style.overflow="hidden",i.style.height="100%",i.style.width="100%",t.getElementById(e).appendChild(i)}else console.log("The createPaymentFrame method expects a JSON object for the postData parameter."),alert(o)},e.createPaymentModal=function(e,a){if(!e||""==e||0==e.length)return console.log("The createPaymentModal method parameter paymentUrl cannot be empty or null."),void alert(o);if(t.getElementById("paymentFrame")){var n=t.getElementById("paymentFrame");n.parentNode.removeChild(n)}if("object"==typeof a){l(a),e=e+"?viewName=JsPopup&"+Object.keys(a).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(a[e])}).join("&");var r=t.createElement("iframe");r.setAttribute("id","paymentFrame"),r.setAttribute("src",e),r.setAttribute("frameborder","0"),r.setAttribute("scrolling","no"),r.style.position="fixed",r.style.left="0",r.style.right="0",r.style.bottom="0",r.style.top="0",r.style.width="100%",r.style.height="175%",t.body.appendChild(r)}else console.log("The createPaymentModal method expects a JSON object for the postData parameter."),alert(o)},e.cancelFramePayment=function(){t.getElementById("paymentFrame").contentWindow.postMessage({event:"ozowCancelPayment"},"*")}}}(window,document);